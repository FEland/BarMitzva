{"ast":null,"code":"import _slicedToArray from \"/Users/femac2/Desktop/ALL DESK/trope/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from \"react\";\n\nfunction useAudioPlayer() {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        duration = _useState2[0],\n        setDuration = _useState2[1];\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        curTime = _useState4[0],\n        setCurTime = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        playing = _useState6[0],\n        setPlaying = _useState6[1];\n\n  const _useState7 = useState(),\n        _useState8 = _slicedToArray(_useState7, 2),\n        clickedTime = _useState8[0],\n        setClickedTime = _useState8[1];\n\n  useEffect(() => {\n    const audio = document.getElementById(\"audio\"); // state setters wrappers\n\n    const setAudioData = () => {\n      setDuration(audio.duration);\n      setCurTime(audio.currentTime);\n    };\n\n    const setAudioTime = () => setCurTime(audio.currentTime); // DOM listeners: update React state on DOM events\n\n\n    audio.addEventListener(\"loadeddata\", setAudioData);\n    audio.addEventListener(\"timeupdate\", setAudioTime); // React state listeners: update DOM on React state changes\n\n    playing ? audio.play() : audio.pause();\n\n    if (clickedTime && clickedTime !== curTime) {\n      audio.currentTime = clickedTime;\n      setClickedTime(null);\n    } // effect cleanup\n\n\n    return () => {\n      audio.removeEventListener(\"loadeddata\", setAudioData);\n      audio.removeEventListener(\"timeupdate\", setAudioTime);\n    };\n  });\n  return {\n    curTime,\n    duration,\n    playing,\n    setPlaying,\n    setClickedTime\n  };\n}\n\nexport default useAudioPlayer;","map":{"version":3,"sources":["/Users/femac2/Desktop/ALL DESK/trope/src/useAudioPlayer.js"],"names":["useState","useEffect","useAudioPlayer","duration","setDuration","curTime","setCurTime","playing","setPlaying","clickedTime","setClickedTime","audio","document","getElementById","setAudioData","currentTime","setAudioTime","addEventListener","play","pause","removeEventListener"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,SAASC,cAAT,GAA0B;AAAA,oBACQF,QAAQ,EADhB;AAAA;AAAA,QACjBG,QADiB;AAAA,QACPC,WADO;;AAAA,qBAEMJ,QAAQ,EAFd;AAAA;AAAA,QAEjBK,OAFiB;AAAA,QAERC,UAFQ;;AAAA,qBAGMN,QAAQ,CAAC,KAAD,CAHd;AAAA;AAAA,QAGjBO,OAHiB;AAAA,QAGRC,UAHQ;;AAAA,qBAIcR,QAAQ,EAJtB;AAAA;AAAA,QAIjBS,WAJiB;AAAA,QAIJC,cAJI;;AAMxBT,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMU,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAd,CADc,CAGd;;AACA,UAAMC,YAAY,GAAG,MAAM;AACzBV,MAAAA,WAAW,CAACO,KAAK,CAACR,QAAP,CAAX;AACAG,MAAAA,UAAU,CAACK,KAAK,CAACI,WAAP,CAAV;AACD,KAHD;;AAKA,UAAMC,YAAY,GAAG,MAAMV,UAAU,CAACK,KAAK,CAACI,WAAP,CAArC,CATc,CAWd;;;AACAJ,IAAAA,KAAK,CAACM,gBAAN,CAAuB,YAAvB,EAAqCH,YAArC;AAEAH,IAAAA,KAAK,CAACM,gBAAN,CAAuB,YAAvB,EAAqCD,YAArC,EAdc,CAgBd;;AACAT,IAAAA,OAAO,GAAGI,KAAK,CAACO,IAAN,EAAH,GAAkBP,KAAK,CAACQ,KAAN,EAAzB;;AAEA,QAAIV,WAAW,IAAIA,WAAW,KAAKJ,OAAnC,EAA4C;AAC1CM,MAAAA,KAAK,CAACI,WAAN,GAAoBN,WAApB;AACAC,MAAAA,cAAc,CAAC,IAAD,CAAd;AACD,KAtBa,CAwBd;;;AACA,WAAO,MAAM;AACXC,MAAAA,KAAK,CAACS,mBAAN,CAA0B,YAA1B,EAAwCN,YAAxC;AACAH,MAAAA,KAAK,CAACS,mBAAN,CAA0B,YAA1B,EAAwCJ,YAAxC;AACD,KAHD;AAID,GA7BQ,CAAT;AA+BA,SAAO;AACLX,IAAAA,OADK;AAELF,IAAAA,QAFK;AAGLI,IAAAA,OAHK;AAILC,IAAAA,UAJK;AAKLE,IAAAA;AALK,GAAP;AAOD;;AAED,eAAeR,cAAf","sourcesContent":["import { useState, useEffect } from \"react\";\n\nfunction useAudioPlayer() {\n  const [duration, setDuration] = useState();\n  const [curTime, setCurTime] = useState();\n  const [playing, setPlaying] = useState(false);\n  const [clickedTime, setClickedTime] = useState();\n\n  useEffect(() => {\n    const audio = document.getElementById(\"audio\");\n\n    // state setters wrappers\n    const setAudioData = () => {\n      setDuration(audio.duration);\n      setCurTime(audio.currentTime);\n    }\n\n    const setAudioTime = () => setCurTime(audio.currentTime);\n\n    // DOM listeners: update React state on DOM events\n    audio.addEventListener(\"loadeddata\", setAudioData);\n\n    audio.addEventListener(\"timeupdate\", setAudioTime);\n\n    // React state listeners: update DOM on React state changes\n    playing ? audio.play() : audio.pause();\n\n    if (clickedTime && clickedTime !== curTime) {\n      audio.currentTime = clickedTime;\n      setClickedTime(null);\n    } \n\n    // effect cleanup\n    return () => {\n      audio.removeEventListener(\"loadeddata\", setAudioData);\n      audio.removeEventListener(\"timeupdate\", setAudioTime);\n    }\n  });\n\n  return {\n    curTime,\n    duration,\n    playing,\n    setPlaying,\n    setClickedTime\n  }\n}\n\nexport default useAudioPlayer;"]},"metadata":{},"sourceType":"module"}